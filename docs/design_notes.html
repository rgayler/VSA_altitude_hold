<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Ross Gayler" />

<meta name="date" content="2021-06-17" />

<title>Design Notes</title>

<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="site_libs/viz-1.8.2/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="site_libs/grViz-binding-1.0.6.1/grViz.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.18/datatables.js"></script>
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">VSA_altitude_hold</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rgayler/VSA_altitude_hold">
    <span class="fa fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Design Notes</h1>
<h4 class="author">Ross Gayler</h4>
<h4 class="date">2021-06-17</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
workflowr
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks">
Checks <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2021-07-07
</p>
<p>
<strong>Checks:</strong>
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
7
<span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span>
0
</p>
<p>
<strong>Knit directory:</strong>
<code>VSA_altitude_hold/</code>
<span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed.">
</span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a>
analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version
1.6.2). The <em>Checks</em> tab describes the
reproducibility checks that were applied when the results were created.
The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate">
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
<strong>R Markdown file:</strong> up-to-date
</a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate" class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git repository, you
know the exact version of the code that produced these results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty">
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
<strong>Environment:</strong> empty
</a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global
environment can affect the analysis in your R Markdown file in unknown ways.
For reproduciblity it’s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20210617code">
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
<strong>Seed:</strong> <code>set.seed(20210617)</code>
</a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20210617code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20210617)</code> was run prior to running the code in the R Markdown file.
Setting a seed ensures that any results that rely on randomness, e.g.
subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded">
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
<strong>Session information:</strong> recorded
</a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is
critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone">
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
<strong>Cache:</strong> none
</a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident
that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative">
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
<strong>File paths:</strong> relative
</a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project
makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomrgaylerVSAaltitudeholdtree95464d1ba22cb0cd55760f8a31a0e4c5ffeabe75targetblank95464d1a">
<span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
<strong>Repository version:</strong> <a href="https://github.com/rgayler/VSA_altitude_hold/tree/95464d1ba22cb0cd55760f8a31a0e4c5ffeabe75" target="_blank">95464d1</a>
</a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcomrgaylerVSAaltitudeholdtree95464d1ba22cb0cd55760f8a31a0e4c5ffeabe75targetblank95464d1a" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and
connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/rgayler/VSA_altitude_hold/tree/95464d1ba22cb0cd55760f8a31a0e4c5ffeabe75" target="_blank">95464d1</a>.
See the <em>Past versions</em> tab to see a history of the changes made to the
R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the
analysis have been committed to Git prior to generating the results (you can
use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only
checks the R Markdown file, but you know if there are other scripts or data
files that it depends on. Below is the status of the Git repository when the
results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/
    Ignored:    renv/library/
    Ignored:    renv/staging/

Unstaged changes:
    Modified:   R/functions.R
    Modified:   data/dfd01.xlsx

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not included in
this status report because it is ok for generated content to have uncommitted
changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made
to the R Markdown (<code>analysis/design_notes.Rmd</code>) and HTML (<code>docs/design_notes.html</code>)
files. If you’ve configured a remote Git repository (see
<code>?wflow_git_remote</code>), click on the hyperlinks in the table below to
view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/95464d1ba22cb0cd55760f8a31a0e4c5ffeabe75/analysis/design_notes.Rmd" target="_blank">95464d1</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-07-07
</td>
<td>
Finish check of simulation data
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/cee8c29f02d768cb64f15963947131d3b10f3d3c/analysis/design_notes.Rmd" target="_blank">cee8c29</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-07-06
</td>
<td>
WIP
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/rgayler/VSA_altitude_hold/cee8c29f02d768cb64f15963947131d3b10f3d3c/docs/design_notes.html" target="_blank">cee8c29</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-07-06
</td>
<td>
WIP
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/6cb027b61707a2e5139c0de7d432d267e6b71aca/analysis/design_notes.Rmd" target="_blank">6cb027b</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-07-04
</td>
<td>
WIP
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/4bcdbb46be8b876213eb3245ce57b9ae7a43e004/analysis/design_notes.Rmd" target="_blank">4bcdbb4</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-07-03
</td>
<td>
WIP
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/rgayler/VSA_altitude_hold/4bcdbb46be8b876213eb3245ce57b9ae7a43e004/docs/design_notes.html" target="_blank">4bcdbb4</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-07-03
</td>
<td>
WIP
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/rgayler/VSA_altitude_hold/7eae4c3d9ecc6c2f49833e180e92e41240419c88/docs/design_notes.html" target="_blank">7eae4c3</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-26
</td>
<td>
Check simulation data: initial values and z versus dz
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/c39cb39c0bd70fa82eb845d5228148f23f8ddfbf/analysis/design_notes.Rmd" target="_blank">c39cb39</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-25
</td>
<td>
Take first look at simulation data
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/rgayler/VSA_altitude_hold/c39cb39c0bd70fa82eb845d5228148f23f8ddfbf/docs/design_notes.html" target="_blank">c39cb39</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-25
</td>
<td>
Take first look at simulation data
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/456a3636c0bf6a5b8cfa591332805666569723b3/analysis/design_notes.Rmd" target="_blank">456a363</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-21
</td>
<td>
Add automatic rendering of DFDs
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/rgayler/VSA_altitude_hold/456a3636c0bf6a5b8cfa591332805666569723b3/docs/design_notes.html" target="_blank">456a363</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-21
</td>
<td>
Add automatic rendering of DFDs
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/d8b9d539af09289067846b2c88cbbd47e8205bb5/analysis/design_notes.Rmd" target="_blank">d8b9d53</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-18
</td>
<td>
Add DFD for Design 01
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/rgayler/VSA_altitude_hold/d8b9d539af09289067846b2c88cbbd47e8205bb5/docs/design_notes.html" target="_blank">d8b9d53</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-18
</td>
<td>
Add DFD for Design 01
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/rgayler/VSA_altitude_hold/blob/0b7e1d45c154bb74f415168137e234628d4a1e9b/analysis/design_notes.Rmd" target="_blank">0b7e1d4</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-17
</td>
<td>
Publish initial docs
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/rgayler/VSA_altitude_hold/0b7e1d45c154bb74f415168137e234628d4a1e9b/docs/design_notes.html" target="_blank">0b7e1d4</a>
</td>
<td>
Ross Gayler
</td>
<td>
2021-06-17
</td>
<td>
Publish initial docs
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<p>This notebook records the design considerations behind implementing
altitude hold in <a href="https://www.hd-computing.com/">VSA</a>.</p>
<div id="dropin-strategy" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Drop-in strategy</h1>
<ul>
<li><p>Limit the initial problem to altitude hold because this is
one-dimensional (as opposed to fully general flight control). This
is done to simplify the problem as much as possible.</p></li>
<li><p>Treat the VSA components as drop-in replacements for standard
control circuitry. This reduces the probability that we will hit an
obstacle requiring us to completely reconceptualise how altitude
hold is done. On the other hand, it means that we will parallel the
classical altitude hold computation, so we may miss seeing some
(hypothetical) VSA-centric solution that has no classical analogue.</p></li>
<li><p>Drop-in replacement, taken literally, implies replacement of
individual functions (single nodes) of the data flow diagram. These
are generally simple functions, so could reasonably be designed
(rather than learned). However, it is also possible to replace
larger subsets of the data flow diagram. As these subsets get larger
the function computed becomes more complex and design becomes less
attractive relative to learning.</p></li>
<li><p>The initial intent is to build the system by design, which implies
one for one replacement of the PID components with VSA equivalents.
If there is time (or necessity) we will try to learn the replacement
VSA components and move from one for one replacement to a holistic
re-implementation of the PID controller.</p></li>
</ul>
<div id="idealisation-versus-implementation" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Idealisation versus implementation</h2>
<p>A drop-in replacement strategy is not necessarily as straight-forward as
it sounds. This is primarily due to the unnoticed heavy lifting that is
done by the idealised mathematical abstractions we habitually use.</p>
<div id="range-and-resolution" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Range and resolution</h3>
<p>The values manipulated by the PID controller are modelled mathematically
as real numbers, which are unbounded and have arbitrarily fine
resolution (infinite precision). However, any physical implementation
will have limited range and resolution.</p>
<p>An implementation on a digital computer would probably represent the
real scalars with floating point numbers. These have a sufficiently wide
range and sufficiently fine resolution that the limitations relative to
real numbers can generally be ignored. However, as the representational
and computational resources are reduced the probability that the
limitations will have visible effects on the behaviour of the PID
controller increases.</p>
<p>One of the purposes of using a VSA approach in robotics is to attempt to
achieve computation with fewer resources, which may mean we are
operating in the regime where representational limits are relevant.
While it is possible we may never approach those limits in this work it
is appropriate to always keep in mind that those limits do exist for
VSAs. In particular, we will treat all scalar values as being bounded.</p>
</div>
<div id="scaling" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Scaling</h3>
<p>In a mathematical model the the quantities are unscaled, they are just
numbers (e.g. see the first paragraph of the preface of
<a href="https://hplgit.github.io/scaling-book/doc/pub/book/pdf/scaling-book-4screen-sol.pdf" class="uri">https://hplgit.github.io/scaling-book/doc/pub/book/pdf/scaling-book-4screen-sol.pdf</a>).
However, in an implementation the numbers (especially coming from
sensors) are necessarily scaled. (Is the vertical velocity measured in
metres per second or <a href="https://en.wikipedia.org/wiki/FFF_system#Furlongs_per_fortnight">furlongs per
fortnight</a>?)
Quantities to be combined by some function need to be scaled compatibly.
For example, if we are adding two vertical velocities they should be
identically scaled for standard addition to have the desired effect.</p>
<p>In a VSA system we are close to the mathematical idealisation, in that
the VSA representation of a magnitude carries no indication of the
scaling. If we had a VSA implementation of the standard addition
operator we would need to ensure that the representations of the
arguments were compatibly scaled. However, if we are effectively
<em>learning</em> an addition operator to be used in a specific context there
is no need for the arguments to be compatibly scaled because we learn
the appropriate scaling of the arguments as part of learning the
addition operator.</p>
<p>Consider an extended example by looking at the PID calculation of error
(<span class="math inline">\(e\)</span>): <span class="math display">\[
\begin{aligned}
  e &amp;= k_{tgt} - z - dz \\
    &amp;= k_{tgt} - (z + dz)
\end{aligned}
\]</span><br />
</p>
<p>The term <span class="math inline">\((z + dz)\)</span> is effectively a prediction of the altitude at some
time in the future. The altitude <span class="math inline">\(z\)</span> happens to be supplied scaled as
metres and the vertical velocity happens to be supplied scaled in metres
per second. In order for <span class="math inline">\(z\)</span> and <span class="math inline">\(dz\)</span> to be scaled compatibly, so they
can be combined with the standard addition operator we can take the
implied prediction interval to be one second, so that <span class="math inline">\(dz\)</span> is
interpreted as the distance in metres that will be covered in the next
second. (The mathematical notation is arguably misleading and should
contain an explicit multiplication of the vertical velocity by the
prediction period, however that just illustrates that the mathematical
idealisation makes it possible to ignore implementation details.)</p>
<p>So, <span class="math inline">\(e\)</span> can be interpreted as the predicted altitude error in one second
assuming no change in vertical velocity. However, the whole point of the
PID controller is to vary the vertical velocity of the multicopter,
eventually bring it to zero. In addition, the response rate of the
system is sufficiently high (100 time steps per second) that the
vertical velocity of the multicopter is likely to vary significantly
over the one second prediction interval, thus invalidating the
prediction.</p>
<p>Consequently, the one second prediction horizon implied by the scaling
of the inputs is likely to be rather longer than appropriate for optimal
control. Presumably this gets compensated for by the tuning parameters
of the PID controller. So if the VSA version is designed (rather than
learned) it will be limited by the quality of the tuning of the
controller. On the other hand if the VSA functions are learned, there is
an opportunity for the optimal scaling to be learned to best match the
response rate of the system.</p>
</div>
<div id="propagation-delays" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Propagation delays</h3>
<p>Treating the PID controller as a mathematical idealisation it is
simplest to assume that values propagate instantaneously through the
DFD. This means that the functional input/output relations of the nodes
can be treated as equations. A physical implementation would necessarily
have propagation delays. In a neuromorphic implementation the
propagation delays are probably essential to the dynamics of the system.</p>
</div>
</div>
</div>
<div id="design-issues" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Design issues</h1>
<div id="pid-controller" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> PID controller</h2>
<ul>
<li><p>The existing classically implemented computation is a <a href="https://en.wikipedia.org/wiki/PID_controller">PID
controller</a></p></li>
<li><p>By my reading there is no claim to the optimality of PID
controllers. Rather, they are simple, do not require a model of the
controlled system, and are in widespread use.</p></li>
<li><p>My reading also suggests there are plenty of PID variants that are
pragmatic engineering solutions to issues with the idealised basic
PID.</p></li>
<li><p>I conclude there is nothing sacrosanct about PID control, and it is
possible that other PID variants or completely different approaches
to process control <em>may</em> be more amenable to VSA implementation.</p></li>
<li><p>Nonetheless, I will stick with attempting a VSA implementation of
the existing PID controller because of the commitment to a <a href="#dropin-strategy">drop-in
replacement strategy</a>.</p>
<ul>
<li><p>The concept of drop-in replacement makes most sense when
replacing individual components of the data flow graph.</p></li>
<li><p>VSA replacement of larger components of the data flow graph (in
the extreme, treating the entire PID controller as a single VSA
function) arguably loses the PID structure, because those
components no longer exist as separable mechanisms.</p></li>
</ul></li>
</ul>
</div>
<div id="parameterisation" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Parameterisation</h2>
<ul>
<li><p>The classically implemented PID controller has four parameters:
<span class="math inline">\(k_{tgt}\)</span>, <span class="math inline">\(k_p\)</span>, <span class="math inline">\(k_i\)</span>, <span class="math inline">\(k_{windup}\)</span></p></li>
<li><p><span class="math inline">\(k_{tgt}\)</span>, the target holding altitude, should arguably be a
variable rather than a parameter. In the current implementation it
is set to the constant value of 5 metres. A more general
implementation would allow the hold altitude to be set arbitrarily.</p>
<ul>
<li>If this is treated as a variable it will need to be explicitly
represented as a VSA value even if the value is held constant
during simulations.</li>
<li>Parameters which are treated as constants do not <em>need</em> to be
explicitly represented as VSA values and their effect can be
absorbed into the surrounding function (like
<a href="https://en.wikipedia.org/wiki/Currying">currying</a>)</li>
</ul></li>
<li><p>The remaining three parameters are for tuning the PID process to
minimise overshoot and other undesired behaviours.</p></li>
<li><p>There are interactions between the parameters (in terms of their
joint effect on the system behaviour).</p>
<ul>
<li>For example, <span class="math inline">\(k_i\)</span> is relatively large in the classically
implemented system at least in part to compensate for
<span class="math inline">\(k_{windup}\)</span> being relatively small.</li>
</ul></li>
<li><p>VSA representations of scalar values have a limited range, which
must be specified.</p>
<ul>
<li><p>Consequently, I have guessed what might be plausible ranges for
the parameters if they were to be treated as variables. Don’t
takes these ranges too seriously.</p></li>
<li><p>The values of some variables in the data flow graph are
functions of the parameters, so the ranges of these variables
depend in part on the ranges I have guessed for the parameters.</p></li>
</ul></li>
<li><p>The specific parameterisation of the classically implemented PID
controller may not be the most amenable to VSA implementation. For
example, the wide value range for some variables caused by the
(guessed) wide value range for some parameters may have the effect
of making the computation more noisy.</p>
<ul>
<li>The parameters <span class="math inline">\(k_p\)</span> and <span class="math inline">\(k_i\)</span> effectively control the relativel
contribution of the error and integrated error terms to the
motor demand. If the error and integrated error variables were
scaled to have identical ranges and <span class="math inline">\(k_p\)</span> scaled to the range
<span class="math inline">\([0, 1]\)</span> then the two terms could be weighted by <span class="math inline">\(k_p\)</span> and
<span class="math inline">\(1 - k_p\)</span> respectively, which would probably be better for VSA
implementation.</li>
</ul></li>
</ul>
</div>
<div id="interfacing" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Interfacing</h2>
<p>How do we interface between the VSA components and the classical
components?</p>
<ul>
<li><p>VSA values are very high dimensional vectors.</p></li>
<li><p>The values in the classical implementation of the data flow diagram
are very low dimensional vectors (typically scalars).</p></li>
<li><p>The surrounding machinery of the multicopter simulation assumes that
the inputs to and outputs from the altitude hold are classical
values. Therefore interfaces are need to convert between the
classical and VSA representations.</p></li>
<li><p>The interfaces between the classical and VSA are essentially
projections between low and high dimensional vector spaces.</p></li>
</ul>
</div>
<div id="representation-of-scalars" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Representation of scalars</h2>
<ul>
<li>Magnitude vs. spatial</li>
</ul>
<div id="range-limits" class="section level3" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Range limits</h3>
</div>
<div id="value-resolution-and-noise" class="section level3" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Value resolution and noise</h3>
<ul>
<li><p>VSA representations, like any physical implementation have limited
value resolution (i.e. two scalar values which are sufficiently
close will be indistinguishable).</p></li>
<li><p>Value resolution hasn’t been investigated in the VSA literature, but
it is clear that it won’t be a sharp distinction (e.g. as in binary
representations). Rather, it is more likely to be a probabilistic
effect - the closer the two values, the higher the probability that
their two VSA representations are indistinguishable. If this is the
case, then the value resolution can be thought of as equivalent to
adding random noise to the value, making the “true” value
unobservable and uncertain.</p></li>
<li><p>I expect VSA resolution to be increased by increasing the
dimensionality of the vector space.</p></li>
<li><p>I also expect VSA resolution to be increased by using the ensemble
averaging technique used in the multiset intersection circuit
<span class="citation">(Gayler &amp; Levy, 2009)</span>.</p></li>
<li><p>I expect that the initial VSA designs will be thoroughly
over-resourced, so that they have far finer value resolution than is
necessary for implementation of the PID controller.</p></li>
</ul>
</div>
</div>
<div id="temporal-issues" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Temporal issues</h2>
<ul>
<li><p>Standard VSA is point-in-time/static (some implementations may be
inherently temporal)</p></li>
<li><p>Embedded in discrete-time simulation. Compatibility of time scales.</p></li>
<li><p>Temporal resolution of signals?</p></li>
<li><p>Low-pass filters on everything?</p></li>
</ul>
</div>
<div id="initialisation" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Initialisation</h2>
<ul>
<li>Classical implementation has explicit initialisation. Do we need
special VSA circuits to guarantee orderly turn-on? Could we have an
“always-on” VSA design?</li>
</ul>
</div>
</div>
<div id="design-01---no-vsa" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Design 01 - No VSA</h1>
<p>This section deals with the altitude hold controller before the
introduction of any VSA components.</p>
<div id="dfd-01" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Data Flow Diagram</h2>
<ul>
<li><p>The data flow diagram represents the desired calculation for
altitude hold.</p></li>
<li><p>The data flow diagram is derived from
<a href="https://github.com/simondlevy/gym-copter/blob/00dc4e6e5e2574d569ad941d064fc0f0efb1d348/heuristic/pidcontrollers.py#L14"><code>AltitudeHoldPidController</code></a>.</p></li>
<li><p>Each node in the diagram represents a potentially inspectable value
or the application of a function</p></li>
<li><p>Each directed edge in the diagram represents a value flow from one
node to another</p></li>
</ul>
<p>Think of the data flow diagram as specifying an electronic analog
computer where the nodes correspond to function blocks and the edges
correspond to wires.</p>
<p>This is the diagram supplied by Simon Levy.</p>
<p><img src="assets/alt-hold.png" /></p>
<ul>
<li><p>Each node should be interpreted as being implicitly subscripted by
<em>time</em>. Only the <em>ei</em> nodes are explicitly subscripted by time.</p></li>
<li><p>The value of the <em>u</em> node is constrained to the range [0, 1]. This
can be interpreted as implying that there should be an application
of a function to constrain the value to that range. This will be
inserted in the diagram below.</p></li>
<li><p>The integrated error <span class="math inline">\(ei_t\)</span> is actually implemented as the
integration <em>after</em> the clipping by <span class="math inline">\(k_{windup}\)</span> is applied.
(This is corrected in the following diagram.)</p></li>
</ul>
<p>The following diagram has been reformatted to be consistent with later data flow
diagrams.</p>
<div id="htmlwidget-e5bd505a2684d5372cef" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5bd505a2684d5372cef">{"x":{"diagram":"digraph {\n\ngraph [layout = \"neato\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"k_p\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FFFFFF\"] \n  \"2\" [label = \"k_i\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FFFFFF\"] \n  \"3\" [label = \"k_tgt\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FFFFFF\"] \n  \"4\" [label = \"k_windup\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FFFFFF\"] \n  \"5\" [label = \"z\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FFFF00\"] \n  \"6\" [label = \"dz\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FFFF00\"] \n  \"7\" [label = \"u\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FF00FF\"] \n  \"8\" [label = \"e\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FF00FF\"] \n  \"9\" [label = \"ei\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#FF00FF\"] \n  \"10\" [label = \"lag (i9)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"11\" [label = \"- (I1)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"12\" [label = \"- (i2)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"13\" [label = \"* (i3)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"14\" [label = \"+ (i4)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"15\" [label = \"clip (i5)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"16\" [label = \"* (i6)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"17\" [label = \"+ (i7)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#00FFFF\"] \n  \"18\" [label = \"clip (i8)\", color = \"gray\", fontcolor = \"black\", shape = \"circle\", peripheries = \"1\", fillcolor = \"#EEEE00\"] \n\"3\"->\"11\" [label = \"+\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"5\"->\"11\" [label = \"-\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"11\"->\"12\" [label = \"+\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"6\"->\"12\" [label = \"-\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"12\"->\"8\" [label = \"=\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"none\", color = \"magenta\"] \n\"12\"->\"13\" [color = \"magenta\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"12\"->\"14\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"1\"->\"13\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"10\"->\"14\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"15\"->\"16\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"15\"->\"10\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"15\"->\"9\" [label = \"=\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"none\", color = \"magenta\"] \n\"14\"->\"15\" [color = \"magenta\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"4\"->\"15\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"2\"->\"16\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"16\"->\"17\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"13\"->\"17\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"17\"->\"18\" [color = \"gray\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"forward\", color = \"gray\"] \n\"18\"->\"7\" [label = \"=\", arrowsize = \"2\", fontsize = \"24\", penwidth = \"1\", dir = \"none\", color = \"magenta\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>Parameter nodes are coloured white. These are constant values.</p></li>
<li><p>Input nodes are coloured light yellow. These are variable values
over time.</p></li>
<li><p>Output nodes are coloured dark yellow These are variable values over
time.</p></li>
<li><p>Internal nodes are coloured cyan. These are variable values over
time.</p></li>
<li><p>All the internal nodes and the output node implement functions with
variable values over time.</p>
<ul>
<li><p>All functions except subtraction are commutative, so the mapping
from input edges to function arguments is irrelevant.</p></li>
<li><p>Because the subtraction function is non-commutative, the two
input edges must be mapped to the correct function arguments.
The edges are labelled “+” (first argument) and “-” (second
argument).</p></li>
</ul></li>
<li><p>This data flow diagram represents the classically implemented
computation, so each value is a scalar real.</p></li>
<li><p>Each node is labelled so that they can be referred to.</p>
<ul>
<li>The function nodes are labelled with the function name, then a
unique label in parentheses.</li>
</ul></li>
<li><p>Each node should be interpreted as being a value implicitly
subscripted by <em>time</em>.</p></li>
<li><p>The magenta coloured nodes represent reference values. These are
imported from the classically implemented simulations which are
equivalent to a corresponding node in the data flow diagram. The
values of the reference node and the corresponding node should be
identical (up to approximation error).</p></li>
<li><p>The edge between a reference node and the corresponding node is
labelled “=” to indicate that it is only intended for testing the
calculation and is not actually part of the datat flow diagram.</p></li>
</ul>
</div>
<div id="data-flow-tables" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Data flow tables</h2>
<p>The data flow diagram is specified in an external spreadsheet. This
allows extra attributes to be associated with the nodes and edges and
provides a tolerable user interface for editing the specifications.
These tables record more detail about the data flow diagram than can be
reasonably displayed on the data flow graph.</p>
<div id="htmlwidget-10c02b6ae1babdd1907e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-10c02b6ae1babdd1907e">{"x":{"filter":"none","caption":"<caption>Nodes<\/caption>","data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["k_p","k_i","k_tgt","k_windup","z","dz","u","e","ei","lag (i9)","- (I1)","- (i2)","* (i3)","+ (i4)","clip (i5)","* (i6)","+ (i7)","clip (i8)"],["k_p","k_i","k_tgt","k_windup","z","dz","u","e","ei","i9","i1","i2","i3","i4","i5","i6","i7","i8"],["parameter","parameter","parameter","parameter","input","input","reference","reference","reference","function","function","function","function","function","function","function","function","output"],["error weight","integrated error weight","target altitude","integrated error limit","altitude","vertical velocity","motor demand","vertical error","error integral @ t","lag(ei)","k_tgt – z","(k_tgt – z) – dz","k_p * e","e + ei_t-1","constrain(ei_t, k_windup)","k_i * ei_t","I3 * i6","constrain(i7, 0, 1)"],["FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE"],["real","real","real","real","real","real","real","real","real","real","real","real","real","real","real","real","real","real"],[0,0,0.5,0,0,-5,0,-25,-0.2,-1,-20,-25,-25,-26,-1,-5,-30,0],[1,5,20,1,20,5,1,25,0.2,1,20,25,25,26,1,5,30,1],[0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001,0.001],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0.2,3,5,0.2,null,null,null,null,0,null,null,null,null,null,null,null,null,null],["Fixed parameter. Range assumed","Fixed parameter. Range assumed. This interacts with k_windup and k_p, and is not necessarily the nicest parameterisation.","Fixed parameter. Range assumed","Fixed parameter. Range assumed","Range assumed as reasonable altitudes for holding",null,null,null,"Default is initial value. Range is imposed by k_windup.","This is identical to ei lagged by one time step.",null,null,null,"Range depends on k_windup",null,null,null,null],["gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray","gray"],["black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black"],["white","white","white","white","yellow1","yellow1","magenta","magenta","magenta","cyan","cyan","cyan","cyan","cyan","cyan","cyan","cyan","yellow2"],["circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>type<\/th>\n      <th>label<\/th>\n      <th>node<\/th>\n      <th>role<\/th>\n      <th>desc<\/th>\n      <th>vsa<\/th>\n      <th>domain<\/th>\n      <th>range_min<\/th>\n      <th>range_max<\/th>\n      <th>value_resolution<\/th>\n      <th>time_resolution<\/th>\n      <th>default<\/th>\n      <th>note<\/th>\n      <th>color<\/th>\n      <th>fontcolor<\/th>\n      <th>fillcolor<\/th>\n      <th>shape<\/th>\n      <th>peripheries<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[0,8,9,10,11,12,18]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="htmlwidget-2d5f0c7fd9f919f044d9" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2d5f0c7fd9f919f044d9">{"x":{"filter":"none","caption":"<caption>Edges<\/caption>","data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],[3,5,11,6,12,12,12,1,10,15,15,15,14,4,2,16,13,17,18],[11,11,12,12,8,13,14,13,14,16,10,9,15,15,16,17,17,18,7],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["+","-","+","-","=",null,null,null,null,null,null,"=",null,null,null,null,null,null,"="],["FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE","FALSE"],[null,null,null,null,"equality to import",null,null,null,null,null,null,"equality to import",null,null,null,null,null,null,"equality to import"],[3,5,11,6,12,12,12,1,10,15,15,15,14,4,2,16,13,17,18],[11,11,12,12,8,13,14,13,14,16,10,9,15,15,16,17,17,18,7],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],["forward","forward","forward","forward","none","forward","forward","forward","forward","forward","forward","none","forward","forward","forward","forward","forward","forward","none"],["gray","gray","gray","gray","magenta","gray","gray","gray","gray","gray","gray","magenta","gray","gray","gray","gray","gray","gray","magenta"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>id<\/th>\n      <th>from<\/th>\n      <th>to<\/th>\n      <th>rel<\/th>\n      <th>label<\/th>\n      <th>vsa<\/th>\n      <th>note<\/th>\n      <th>id_from<\/th>\n      <th>id_to<\/th>\n      <th>arrowsize<\/th>\n      <th>fontsize<\/th>\n      <th>penwidth<\/th>\n      <th>dir<\/th>\n      <th>color<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[0,1,2,7,8,9,10,11]}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>For each value (node) , what is it’s range? A physical
implementation necessarily has limits. This may render <span class="math inline">\(k_{windup}\)</span>
and <code>constrain</code> redundant.</p></li>
<li><p>I have guessed values for the ranges of the variables (informed by
the analysis of the simulation data).</p></li>
<li><p>The ranges for the parameters are truly plucked from the air.</p></li>
<li><p>For each value (node) , what is it’s value resolution? This is
equivalent asking the noise level that can be tolerated.</p></li>
<li><p>For each value (node) , what is it’s temporal resolution? This is
equivalent how rapidly we expect the value to change. Some nodes are
constant parameters. For time-varying signals do we expect them to
alternate between the extreme values on successive samples?</p></li>
<li><p>A related point: this is a discrete-time simulation - is the time
step fixed? What is the time step? The simplest VSA approach is
point-in-time. However, it may be possible to dream up some VSA
representation that is essentially temporal, in which case it needs
to be compatible with the time-scales of the implementation.</p></li>
<li><p>Are there better descriptions for the internal nodes? Something with
intuitive meaning of their function would be good.</p></li>
<li><p>Does the integrated error needs to be initialised to zero? Does this
imply the need for “turn-on” circuitry? Would it be better to have
an “always-on” design? Should there be some error correction for
cumulative errors?</p></li>
</ul>
</div>
</div>
<div id="design-02---no-vsa-tidied" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Design 02 - No VSA (tidied)</h1>
<p>This is the previous design modified to be more compatible with the VSA
changes which will be introduced later.</p>
</div>
<div id="extreme-designs" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Extreme designs</h1>
<p>Digress briefly to consider the extremes of where we might go with
incorporating VSA components into the design of the altitude hold
circuit.</p>
<div id="minimal-collapse" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Minimal collapse</h2>
<ul>
<li><p>Replace all the edges in the data flow diagram with VSA equivalents.</p></li>
<li><p>Leave all the vertices in classical form.</p></li>
</ul>
<p>The edges are equivalent to wires. A value is inserted at one end and
retrieved at the other end. This would require a classical to VSA
interface at the input of the edge and a VSA to classical interface at
the output end.</p>
<p>This would seem to be an almost pointless thing to do. However, the
classical values are assumed to absolutely accurate as mathematical
idealisations. Different physical realisations will be inaccurate to
some extent. A software implementation would likely represent the values
as <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">double-precision
floating-point</a>.
A very constrained computer might represent the values with <a href="https://en.wikipedia.org/wiki/8-bit_computing">8-bit
integers</a>. An analog
computer might represent the values as voltages in some constrained
range and with noise present in the signal.</p>
<p>Analogously, there can be range, distortion, and noise effects present
in VSA representations. There can also be implementation noise, for
example if VSA representations are implemented with simulated spiking
neurons.</p>
<ul>
<li>The minimal collapse scenario would be useful for investigating the
effects of VSA representation inaccuracy on the behaviour of the
otherwise unaltered altitude hold circuit. This could indicate which
values require high fidelity representations.</li>
</ul>
</div>
<div id="maximal-collapse" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Maximal collapse</h2>
<ul>
<li>Replace the entire set of vertices of the data flow diagram (with
the exception of external sources and sinks) with a single vertex.
That is, altitude hold is treated as a single, complicated function
with no discernible internal data flows. For example, it might be
possible to implement the altitude hold as effectively an
interpolating lookup table.</li>
</ul>
<p>Such a model might have advantages depending on the implementation
technology.</p>
</div>
</div>
<div id="design-03--" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Design 03 -</h1>
</div>
<div id="design-04--" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Design 04 -</h1>
</div>
<div id="etc." class="section level1" number="8">
<h1><span class="header-section-number">8</span> Etc.</h1>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-gaylerDistributedBasisAnalogical2009" class="csl-entry">
Gayler, R. W., &amp; Levy, S. D. (2009). A distributed basis for analogical mapping. In B. Kokinov, K. J. Holyoak, &amp; D. Gentner (Eds.), <em>New <span>Frontiers</span> in <span>Analogy Research</span>, <span>Proceedings</span> of the <span>Second International Conference</span> on <span>Analogy</span>, <span>ANALOGY</span>-2009</em> (pp. 165–174). <span>Sofia, Bulgaria</span>: <span>New Bulgarian University</span>.
</div>
</div>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre><code>R version 4.1.0 (2021-05-18)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 21.04

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0

locale:
 [1] LC_CTYPE=en_AU.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_AU.UTF-8        LC_COLLATE=en_AU.UTF-8    
 [5] LC_MONETARY=en_AU.UTF-8    LC_MESSAGES=en_AU.UTF-8   
 [7] LC_PAPER=en_AU.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_AU.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] DT_0.18            dplyr_1.0.7        DiagrammeR_1.0.6.1 readxl_1.3.1      
[5] here_1.0.1        

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.6         pillar_1.6.1       compiler_4.1.0     cellranger_1.1.0  
 [5] later_1.2.0        RColorBrewer_1.1-2 git2r_0.28.0       workflowr_1.6.2   
 [9] tools_4.1.0        digest_0.6.27      jsonlite_1.7.2     evaluate_0.14     
[13] lifecycle_1.0.0    tibble_3.1.2       pkgconfig_2.0.3    rlang_0.4.11      
[17] rstudioapi_0.13    crosstalk_1.1.1    yaml_2.2.1         xfun_0.24         
[21] stringr_1.4.0      knitr_1.33         generics_0.1.0     fs_1.5.0          
[25] vctrs_0.3.8        htmlwidgets_1.5.3  tidyselect_1.1.1   rprojroot_2.0.2   
[29] glue_1.4.2         R6_2.5.0           fansi_0.5.0        rmarkdown_2.9     
[33] bookdown_0.22      tidyr_1.1.3        purrr_0.3.4        magrittr_2.0.1    
[37] whisker_0.4        promises_1.2.0.1   ellipsis_0.3.2     htmltools_0.5.1.1 
[41] renv_0.13.2        httpuv_1.6.1       utf8_1.2.1         stringi_1.6.2     
[45] visNetwork_2.0.9   crayon_1.4.1      </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4,h5",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
